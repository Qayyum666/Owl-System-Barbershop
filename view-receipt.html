<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Receipt - Owl Barbershop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Courier New', Courier, monospace; background-color: #f4f4f4; display: flex; justify-content: center; padding: 40px 20px; }
        .receipt-card { background: white; width: 100%; max-width: 400px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-radius: 4px; position: relative; }
        .receipt-card::after { content: ""; position: absolute; bottom: -10px; left: 0; width: 100%; height: 10px; background: linear-gradient(-45deg, transparent 5px, white 5px), linear-gradient(45deg, transparent 5px, white 5px); background-size: 10px 10px; }
        
        .header { text-align: center; border-bottom: 2px dashed #eee; padding-bottom: 20px; margin-bottom: 20px; }
        .logo-text { font-family: 'Arial', sans-serif; font-weight: bold; font-size: 24px; color: #2c3e50; }
        
        .item-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .total-section { border-top: 2px dashed #eee; margin-top: 20px; padding-top: 20px; }
        .total-row { display: flex; justify-content: space-between; font-size: 20px; font-weight: bold; }

        .btn-pay { width: 100%; background: #c5a059; color: white; border: none; padding: 15px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 30px; font-family: 'Arial', sans-serif; }
        .back-link { display: block; text-align: center; margin-top: 20px; color: #7f8c8d; text-decoration: none; font-family: 'Arial', sans-serif; font-size: 14px; }
        
        /* Interactive Instruction Box */
        #paymentInstruction { display: none; background: #fff9e6; border: 1px solid #ffeeba; padding: 15px; margin-top: 20px; border-radius: 8px; color: #856404; text-align: center; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="receipt-card">
    <div class="header">
        <div class="logo-text">OWL BARBERSHOP</div>
        <p style="font-size: 12px; color: #666;">Muar, Johor, Malaysia</p>
        <p id="date" style="font-size: 12px;"></p>
    </div>

    <div id="receiptItems">
        </div>

    <div class="total-section">
        <div class="total-row">
            <span>TOTAL</span>
            <span id="grandTotal">RM 0.00</span>
        </div>
    </div>

    <button class="btn-pay" onclick="showInstruction()">
        <i class="fas fa-cash-register"></i> PAY AT COUNTER
    </button>

    <div id="paymentInstruction">
        <i class="fas fa-camera" style="font-size: 24px; margin-bottom: 10px;"></i><br>
        <strong>READY TO GO!</strong><br>
        Please <strong>Screenshot</strong> this receipt and show it to our cashier to complete your purchase.
    </div>

    <a href="index.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Home</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cartData = JSON.parse(localStorage.getItem('owlCart'));
        const container = document.getElementById('receiptItems');
        const totalEl = document.getElementById('grandTotal');
        const dateEl = document.getElementById('date');

        // Set current date
        dateEl.innerText = new Date().toLocaleString();

        if (!cartData || Object.keys(cartData).length === 0) {
            container.innerHTML = "<p>No items found.</p>";
            return;
        }

        let total = 0;
        container.innerHTML = Object.values(cartData).map(item => {
            const subtotal = item.price * item.qty;
            total += subtotal;
            return `
                <div class="item-row">
                    <span>${item.name} (x${item.qty})</span>
                    <span>RM ${subtotal.toFixed(2)}</span>
                </div>
            `;
        }).join('');

        totalEl.innerText = `RM ${total.toFixed(2)}`;
    });

    function showInstruction() {
        document.getElementById('paymentInstruction').style.display = 'block';
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }
</script>

</body>
</html>
